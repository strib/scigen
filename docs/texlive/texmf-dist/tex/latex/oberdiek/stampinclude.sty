%%
%% This is file `stampinclude.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% stampinclude.dtx  (with options: `package')
%% 
%% This is a generated file.
%% 
%% Project: stampinclude
%% Version: 2008/07/14 v1.0
%% 
%% Copyright (C) 2008 by
%%    Heiko Oberdiek <heiko.oberdiek at googlemail.com>
%% 
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either
%% version 1.3c of this license or (at your option) any later
%% version. This version of this license is in
%%    http://www.latex-project.org/lppl/lppl-1-3c.txt
%% and the latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of
%% LaTeX version 2005/12/01 or later.
%% 
%% This work has the LPPL maintenance status "maintained".
%% 
%% This Current Maintainer of this work is Heiko Oberdiek.
%% 
%% This work consists of the main source file stampinclude.dtx
%% and the derived files
%%    stampinclude.sty, stampinclude.pdf, stampinclude.ins, stampinclude.drv.
%% 
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{stampinclude}
  [2008/07/14 v1.0 Include files based on time stamps (HO)]%
\RequirePackage{pdftexcmds}[2007/12/12]%
\begingroup
  \chardef\x=1 %
  \expandafter\ifx\csname pdf@filemoddate\endcsname\relax
    \chardef\x=0 %
  \fi
  \expandafter\ifx\csname pdf@strcmp\endcsname\relax
    \chardef\x=0 %
  \fi
\expandafter\endgroup\ifcase\x
  \PackageWarningNoLine{stampinclude}{%
    \string\pdffilemoddate\space or %
    \string\pdfstrcmp\space are not found,\MessageBreak
    that are provided by pdfTeX >= 1.30.0.\MessageBreak
    Also LuaTeX is not detected.\MessageBreak
    Therefore package loading is aborted%
  }%
  \expandafter\endinput
\fi
\let\SInc@org@include\@include
\def\@include#1 {%
  \IfFileExists{#1.aux}{%
    \ifnum\pdf@strcmp{\pdf@filemoddate{#1.aux}}%
                     {\pdf@filemoddate{#1.tex}}<0 %
      \ifx\@partlist\@empty
        \gdef\@partlist{{#1}}%
      \else
        \g@addto@macro\@partlist{,{#1}}%
      \fi
    \fi
  }{%
    \ifx\@partlist\@empty
      \gdef\@partlist{{#1}}%
    \else
      \g@addto@macro\@partlist{,{#1}}%
    \fi
  }%
  \SInc@org@include{#1} \relax
}
\renewcommand*{\includeonly}[1]{%
  \PackageInfo{stampinclude}{%
    Ignoring \string\includeonly
  }%
}
\@partswtrue
\gdef\@partlist{}
\AtEndDocument{%
  \begingroup
    \expandafter\let\expandafter\@partlist\expandafter\@empty
    \expandafter\@for\expandafter\reserved@a
    \expandafter:\expandafter=\@partlist\do{%
      \ifx\@partlist\@empty
        \edef\@partlist{\reserved@a}%
      \else
        \edef\@partlist{\@partlist, \reserved@a}%
      \fi
    }%
    \typeout{********************%
             ********************%
             ********************%
             ******************%
    }%
    \ifx\@partlist\@empty
      \typeout{[stampinclude] No included files.}%
    \else
      \typeout{[stampinclude] Included files:}%
      \typeout{\@partlist}%
    \fi
    \typeout{********************%
             ********************%
             ********************%
             ******************%
    }%
  \endgroup
}
\endinput
%%
%% End of file `stampinclude.sty'.
