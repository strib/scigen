%%
%% This is file `epstopdf-base.sty',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% epstopdf.dtx  (with options: `base')
%% 
%% This is a generated file.
%% 
%% Project: epstopdf
%% Version: 2010/02/09 v2.5
%% 
%% Copyright (C) 2001, 2006-2010 by
%%    Heiko Oberdiek <heiko.oberdiek at googlemail.com>
%% 
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either
%% version 1.3c of this license or (at your option) any later
%% version. This version of this license is in
%%    http://www.latex-project.org/lppl/lppl-1-3c.txt
%% and the latest version of this license is in
%%    http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of
%% LaTeX version 2005/12/01 or later.
%% 
%% This work has the LPPL maintenance status "maintained".
%% 
%% This Current Maintainer of this work is Heiko Oberdiek.
%% 
%% This work consists of the main source file epstopdf.dtx
%% and the derived files
%%    epstopdf.sty, epstopdf.pdf, epstopdf.ins, epstopdf.drv,
%%    epstopdf-base.sty, epstopdf-test1.tex.
%% 
\begingroup\catcode61\catcode48\catcode32=10\relax%
  \catcode13=5 % ^^M
  \endlinechar=13 %
  \catcode35=6 % #
  \catcode39=12 % '
  \catcode44=12 % ,
  \catcode45=12 % -
  \catcode46=12 % .
  \catcode58=12 % :
  \catcode64=11 % @
  \catcode123=1 % {
  \catcode125=2 % }
  \expandafter\let\expandafter\x\csname ver@epstopdf-base.sty\endcsname
  \ifx\x\relax % plain-TeX, first loading
  \else
    \def\empty{}%
    \ifx\x\empty % LaTeX, first loading,
      % variable is initialized, but \ProvidesPackage not yet seen
    \else
      \expandafter\ifx\csname PackageInfo\endcsname\relax
        \def\x#1#2{%
          \immediate\write-1{Package #1 Info: #2.}%
        }%
      \else
        \def\x#1#2{\PackageInfo{#1}{#2, stopped}}%
      \fi
      \x{epstopdf-base}{The package is already loaded}%
      \aftergroup\endinput
    \fi
  \fi
\endgroup%
\begingroup\catcode61\catcode48\catcode32=10\relax%
  \catcode13=5 % ^^M
  \endlinechar=13 %
  \catcode35=6 % #
  \catcode39=12 % '
  \catcode40=12 % (
  \catcode41=12 % )
  \catcode44=12 % ,
  \catcode45=12 % -
  \catcode46=12 % .
  \catcode47=12 % /
  \catcode58=12 % :
  \catcode64=11 % @
  \catcode91=12 % [
  \catcode93=12 % ]
  \catcode123=1 % {
  \catcode125=2 % }
  \expandafter\ifx\csname ProvidesPackage\endcsname\relax
    \def\x#1#2#3[#4]{\endgroup
      \immediate\write-1{Package: #3 #4}%
      \xdef#1{#4}%
    }%
  \else
    \def\x#1#2[#3]{\endgroup
      #2[{#3}]%
      \ifx#1\@undefined
        \xdef#1{#3}%
      \fi
      \ifx#1\relax
        \xdef#1{#3}%
      \fi
    }%
  \fi
\expandafter\x\csname ver@epstopdf-base.sty\endcsname
\ProvidesPackage{epstopdf-base}%
  [2010/02/09 v2.5 Base part for package epstopdf]%
\begingroup\catcode61\catcode48\catcode32=10\relax%
  \catcode13=5 % ^^M
  \endlinechar=13 %
  \catcode123=1 % {
  \catcode125=2 % }
  \catcode64=11 % @
  \def\x{\endgroup
    \expandafter\edef\csname ETE@AtEnd\endcsname{%
      \endlinechar=\the\endlinechar\relax
      \catcode13=\the\catcode13\relax
      \catcode32=\the\catcode32\relax
      \catcode35=\the\catcode35\relax
      \catcode61=\the\catcode61\relax
      \catcode64=\the\catcode64\relax
      \catcode123=\the\catcode123\relax
      \catcode125=\the\catcode125\relax
    }%
  }%
\x\catcode61\catcode48\catcode32=10\relax%
\catcode13=5 % ^^M
\endlinechar=13 %
\catcode35=6 % #
\catcode64=11 % @
\catcode123=1 % {
\catcode125=2 % }
\def\TMP@EnsureCode#1#2{%
  \edef\ETE@AtEnd{%
    \ETE@AtEnd
    \catcode#1=\the\catcode#1\relax
  }%
  \catcode#1=#2\relax
}
\TMP@EnsureCode{33}{12}% !
\TMP@EnsureCode{39}{12}% '
\TMP@EnsureCode{42}{12}% *
\TMP@EnsureCode{44}{12}% ,
\TMP@EnsureCode{45}{12}% -
\TMP@EnsureCode{46}{12}% .
\TMP@EnsureCode{47}{12}% /
\TMP@EnsureCode{58}{12}% :
\TMP@EnsureCode{60}{12}% <
\TMP@EnsureCode{62}{12}% >
\TMP@EnsureCode{96}{12}% `
\edef\ETE@AtEnd{\ETE@AtEnd\noexpand\endinput}
\RequirePackage{infwarerr}[2007/09/09]
\RequirePackage{grfext}\relax
\RequirePackage{kvoptions}[2007/10/02]
\RequirePackage{pdftexcmds}[2007/11/11]
\begingroup\expandafter\expandafter\expandafter\endgroup
\expandafter\ifx\csname Gin@setfile\endcsname\relax
  \@PackageWarningNoLine{epstopdf}{%
    No graphics package \string`graphic{s,x}\string' loaded%
  }%
  \newcommand*{\epstopdfsetup}[1]{}%
  \expandafter\ETE@AtEnd
\fi%
\begingroup
  \def\x{pdftex.def}%
  \ifx\Gin@driver\x
  \else
    \@PackageWarningNoLine{epstopdf}{%
      Drivers other than `pdftex.def' are not supported%
    }%
    \endgroup
    \newcommand*{\epstopdfsetup}[1]{}%
    \expandafter\ETE@AtEnd
  \fi%
\endgroup
\begingroup
  \expandafter\ifx\csname pdf@shellescape\endcsname\relax
  \else
    \ifnum\pdf@shellescape>0 %
    \else
      \@PackageWarningNoLine{epstopdf}{%
        Shell escape feature is not enabled%
      }%
    \fi
  \fi
\endgroup
\SetupKeyvalOptions{family=ETE,prefix=ETE@}
\DeclareBoolOption{update}
\DeclareBoolOption{verbose}
\newif\ifETE@prepend
\DeclareVoidOption{prepend}{\ETE@prependtrue}
\DeclareVoidOption{append}{\ETE@prependfalse}
\DeclareStringOption{outdir}
\DeclareStringOption{suffix}
\DeclareBoolOption{prefersuffix}
\DeclareStringOption{program@epstopdf}
\DeclareBoolOption{disable}
\DeclareComplementaryOption{enable}{disable}
\newcommand*{\epstopdfsetup}{\setkeys{ETE}}
\epstopdfsetup{%
  verbose,%
  enable,%
  append,%
  update,%
  prefersuffix,%
  suffix=-\SourceExt-converted-to,%
  program@epstopdf=epstopdf%
}
\begingroup\expandafter\expandafter\expandafter\endgroup
\expandafter\ifx\csname pdf@filemoddate\endcsname\relax
  \def\ETE@Make#1#2{%
    \ifETE@update
      \ETE@WarnModDate
    \fi
    \@firstofone
  }%
  \def\ETE@WarnModDate{%
    \@PackageWarningNoLine{epstopdf}{%
      \string\pdffilemoddate\space is not available,\MessageBreak
      option `update' will be ignored%
    }%
    \global\let\ETE@WarnModDate\relax
  }%
  \def\ETE@FileInfo#1#2{#1 file: <#2>}%
\else
  \def\ETE@Make#1#2{%
    \ifETE@update
      \ifnum\pdf@strcmp{\pdf@filemoddate{#1}}{\pdf@filemoddate{#2}}>0 %
        \expandafter\expandafter\expandafter\@firstofone
      \else
        \@PackageInfoNoLine{epstopdf}{%
          Output file is already uptodate%
        }%
        \expandafter\expandafter\expandafter\@gobble
      \fi
    \else
      \expandafter\@firstofone
    \fi
  }%
  \def\ETE@FileInfo#1#2{%
    #1 file: <#2>%
    \expandafter\expandafter\expandafter
    \ETE@Date\pdf@filemoddate{#2}\@nil
    \expandafter\expandafter\expandafter
    \ETE@Size\pdf@filesize{#2}\@nil
  }%
  \def\ETE@Date#1\@nil{%
    \ifx\\#1\\%
    \else
      \ETE@@Date#1\@nil
    \fi
  }%
  \def\ETE@@Date#1:#2#3#4#5#6#7#8#9{%
    \MessageBreak
    \@spaces\space\space\space date: #2#3#4#5-#6#7-#8#9 %
    \ETE@@Time
  }%
  \def\ETE@@Time#1#2#3#4#5#6#7\@nil{%
    #1#2:#3#4:#5#6%
  }%
  \def\ETE@Size#1\@nil{%
    \ifx\\#1\\%
    \else
      \MessageBreak
      \@spaces\space\space\space size: #1 bytes%
    \fi
  }%
\fi
\expandafter\ifx\csname ETE@OrgGin@setfile\endcsname\relax
  \let\ETE@OrgGin@setfile\Gin@setfile
\else
  \@PackageError{epstopdf}{%
    Command \string\ETE@OrgGin@setfile\space
    already defined.\MessageBreak
  }{%
    Probably some package has included the code of this package%
    \MessageBreak
    instead of using \string\RequirePackage{epstopdf}.%
    \MessageBreak
    \@ehc
  }%
\fi
\def\ETE@IfFileExists{%
  \begingroup\expandafter\expandafter\expandafter\endgroup
  \expandafter\ifx\csname grffile@IfFileExists\endcsname\relax
    \expandafter\IfFileExists
  \else
    \global\let\ETE@IfFileExists\grffile@IfFileExists
    \expandafter\grffile@IfFileExists
  \fi
}
\def\ETE@Skip#1#2\x\fi\fi{%
  \fi
  \fi
  \endgroup
  \fi
  \fi
  #1%
}
\newif\ifETE@InsideSetfile
\newcommand*{\epstopdfcall}[1]{%
  \ifETE@InsideSetfile
    \expandafter\@firstoftwo
  \else
    \expandafter\@secondoftwo
  \fi
  {`#1}%
  {\Gin@base\Gin@ext}%
}
\def\ETE@DefCommandLine#1{%
  \edef\CommandLine{\expandafter\fi\if`#1}%
}
\def\ETE@DefX#1{%
  \expandafter\expandafter\expandafter\def
  \expandafter\expandafter\expandafter\x
  \expandafter\expandafter\expandafter{%
    \expandafter\fi\if`#1\relax\else
  }%
}
\def\ETE@Gin@setfile#1#2#3{%
  \ifETE@disable
    \ETE@OrgGin@setfile{#1}{#2}{#3}%
  \else
    \begingroup
      \ETE@InsideSetfiletrue
      \ETE@DefX{#3}%
    \expandafter\endgroup
    \ifx\x\@empty
      \ETE@OrgGin@setfile{#1}{#2}{#3}%
    \else
      \begingroup
        \ETE@InsideSetfiletrue
        \def\GraphicsType{#1}%
        \def\GraphicsRead{#2}%
        \ifETE@prefersuffix
        \else
          \ifx\ETE@suffix\@empty
          \else
            \ETE@IfFileExists{\Gin@base\GraphicsRead}{%
              \ETE@Skip{%
                \ETE@OrgGin@setfile{#1}{#2}{\Gin@base#2}%
              }%
            }{%
              \let\next\relax
            }%
            \next
          \fi
        \fi
        \ifx\Gin@ext\relax
          \let\SourceExt\Gin@eext
          \def\SourceFile{\Gin@base\Gin@eext}%
        \else
          \let\SourceExt\Gin@ext
          \def\SourceFile{\Gin@base\Gin@ext}%
        \fi
        \edef\SourceExt{% remove dot
          \expandafter\@cdr\SourceExt\@empty\@nil
        }%
        \let\OutputDirectory\ETE@outdir
        \ifx\OutputDirectory\@empty
          \edef\OutputFile{\ETE@GenerateName{\Gin@base}{#2}}%
        \else
          \begingroup
            \filename@parse{\Gin@base#2}%
            \edef\x{\endgroup
              \def\noexpand\OutputFile{%
                \ETE@GenerateName{%
                  \OutputDirectory\filename@base
                }{#2}%
              }%
            }%
          \x
        \fi
        \ETE@DefCommandLine{#3}%
        \ifETE@verbose
          \@PackageInfo{epstopdf}{%
            \ETE@FileInfo{Source}\SourceFile\MessageBreak
            \ETE@FileInfo{Output}\OutputFile\MessageBreak
            Command: <\CommandLine>\MessageBreak
            \string\includegraphics
          }%
        \fi
        \ETE@Make\SourceFile\OutputFile{%
          \pdf@system{\CommandLine}%
          \ifETE@verbose
            \@PackageInfoNoLine{epstopdf}{%
              \ETE@FileInfo{Result}\OutputFile
            }%
          \fi
        }%
        \edef\x{\endgroup
          \ifx\OutputDirectory\@empty
          \else
            \def\noexpand\Gin@base{%
              \OutputDirectory\noexpand\filename@base
            }%
          \fi
          \ifx\ETE@suffix\@empty
          \else
            \edef\noexpand\Gin@base{%
              \noexpand\Gin@base\ETE@suffix
            }%
          \fi
          \noexpand\ETE@OrgGin@setfile{%
            \GraphicsType
          }{%
            \GraphicsRead
          }{%
            \OutputFile
          }%
        }%
      \x
    \fi
  \fi
}
\let\Gin@setfile\ETE@Gin@setfile
\def\ETE@GenerateName#1#2{%
  #1\ETE@suffix#2%
}
\newcommand*{\epstopdfDeclareGraphicsRule}[4]{%
  \ifx\\#4\\%
    \@PackageError{epstopdf-base}{%
      Conversion command is missing%
    }\@ehc
  \else
    \begingroup
      \@ifundefined{Gin@rule@#1}{%
      }{%
        \@PackageInfo{epstopdf-base}{%
          Redefining graphics rule for `#1'%
        }%
      }%
    \endgroup
    \@namedef{Gin@rule@#1}##1{{#2}{#3}{\epstopdfcall{#4}}}%
  \fi
}
\epstopdfDeclareGraphicsRule{.eps}{pdf}{.pdf}{%
  \ETE@epstopdf{#1}%
}
\def\ETE@epstopdf#1{%
  \ETE@program@epstopdf\space
  \ifcase\ifx\OutputDirectory\@empty
           \ifx\ETE@suffix\@empty
             1%
           \fi
         \fi
         0 %
    --outfile=\OutputFile\space
  \fi
  #1%
}
\ifETE@prepend
  \expandafter\PrependGraphicsExtensions
\else
  \expandafter\AppendGraphicsExtensions
\fi
{.eps}
\let\ETE@prepend\@undefined
\DeclareVoidOption{prepend}{%
  \PrependGraphicsExtensions{.eps}%
}
\let\ETE@append\@undefined
\DeclareVoidOption{append}{%
  \AppendGraphicsExtensions{.eps}%
}
\InputIfFileExists{epstopdf-sys.cfg}{}{}
\InputIfFileExists{epstopdf.cfg}{}{}
\ETE@AtEnd%
\endinput
%%
%% End of file `epstopdf-base.sty'.
